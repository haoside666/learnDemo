<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>header info handle</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/global.css" rel="stylesheet">
<!--    <script src="public/jquery/jquery-1.11.3.min.js"></script>-->
    <script>
        window.onload=function () {
            var inputTextarea = document.getElementById('input-textarea');
            var outputTextarea = document.getElementById('output-textarea');
            var convertBtn = document.getElementById('convert-btn');

            //转换
            convertBtn.addEventListener('click',function(){
                let content = getInputTextAreaVal();
                let arr = content.split("\n");
                let length = arr.length / 2;
                let obj = {}
                for (let i = 0; i < length; i++) {
                    let key = arr[2 * i].replace(":", "").trim();
                    let value = arr[2 * i + 1].trim();
                    obj[key] = value;
                }
                // console.log(obj);
                let str = JSON.stringify(obj);
                setOutputTextAreaVal(str);
            });

            function getInputTextAreaVal() {
                return inputTextarea.value;
            }

            function setOutputTextAreaVal(data) {
                outputTextarea.value=data;
            }
        };
    </script>
</head>

<body>
<div class="container" style="margin-top: 40px">
    <div class="row">
        <div class="col-md-5">
            <label for="input-textarea"><textarea class="form-control" rows="15" id="input-textarea"></textarea></label>
        </div>
        <div class="col-md-2">
            <div class="btn-group-vertical" role="group">
                <button type="button" class="btn btn-default" id="convert-btn"
                        style="margin: 150px 20px 40px 20px;">转换
                </button>
            </div>
        </div>
        <div class="col-md-5">
            <label for="output-textarea"><textarea class="form-control" rows="15"
                                                   id="output-textarea"></textarea></label>
        </div>
    </div>
</div>
<!--<script src="public/bootstrap/js/bootstrap.min.js"></script>-->
</body>

</html>
